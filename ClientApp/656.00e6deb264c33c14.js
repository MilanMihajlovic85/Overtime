"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[656],{7632:(z,A,l)=>{l.d(A,{n:()=>j});var e=l(4650),t=l(9841),T=l(4004),u=l(6895),D=l(8373),O=l(4006),P=l(9549),b=l(284),y=l(7392),E=l(4859),h=l(671),f=l(603),v=l(9383);function I(i,d){if(1&i){const n=e.EpF();e.TgZ(0,"ion-fab",7),e.NdJ("click",function(){e.CHM(n);const r=e.oxw(2);return e.KtG(r.openModal("create",null))}),e.TgZ(1,"ion-fab-button",8),e._UZ(2,"ion-icon",9),e.qZA()()}2&i&&(e.xp6(2),e.Q6J("ios","add-outline")("md","add-sharp"))}function M(i,d){if(1&i){const n=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(n);const r=e.oxw(3);return e.KtG(r.clearSearchInput())}),e.TgZ(1,"mat-icon"),e._uU(2,"close"),e.qZA()()}}function Z(i,d){if(1&i){const n=e.EpF();e.TgZ(0,"mat-form-field",10)(1,"mat-icon",11),e._uU(2,"search"),e.qZA(),e.TgZ(3,"input",12,13),e.NdJ("keyup",function(r){e.CHM(n);const g=e.oxw(2);return e.KtG(g.applyFilter(r))})("ngModelChange",function(r){e.CHM(n);const g=e.oxw(2);return e.KtG(g.value=r)}),e.qZA(),e.YNc(5,M,3,0,"button",14),e.qZA()}if(2&i){const n=e.oxw(2);e.xp6(3),e.Q6J("ngModel",n.value),e.xp6(2),e.Q6J("ngIf",n.value)}}function U(i,d){if(1&i&&(e.TgZ(0,"h2"),e._uU(1),e.qZA()),2&i){const n=d.$implicit,_=e.oxw().$implicit;e.xp6(1),e.Oqu(_[n])}}function R(i,d){if(1&i&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&i){const n=d.$implicit,_=e.oxw().$implicit;e.xp6(1),e.Oqu(_[n])}}function B(i,d){if(1&i&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"date"),e.ALo(3,"date"),e.qZA()),2&i){const n=e.oxw().$implicit;e.xp6(1),e.AsE("",e.xi3(2,2,n.startTime,"dd/MM/yyyy HH:mm")," - ",e.xi3(3,5,n.endTime,"HH:mm"),"")}}function k(i,d){if(1&i&&(e.ynx(0),e.TgZ(1,"div",19)(2,"p",20),e._uU(3),e.qZA(),e.TgZ(4,"p",20),e._uU(5),e.qZA(),e.TgZ(6,"p",20),e._uU(7),e.qZA()(),e.BQk()),2&i){const n=e.oxw().$implicit;e.xp6(3),e.hij("Requests: ",n.requestsNum,""),e.xp6(2),e.hij("Hours: ",n.hours,""),e.xp6(2),e.hij("Status: ",n.status,"")}}function K(i,d){if(1&i){const n=e.EpF();e.TgZ(0,"ion-item",16),e.NdJ("click",function(){const g=e.CHM(n).$implicit,C=e.oxw(2);return e.KtG(C.onSelectElement(g,!0))}),e.TgZ(1,"ion-label"),e.YNc(2,U,2,1,"h2",17),e.YNc(3,R,2,1,"p",17),e.YNc(4,B,4,8,"p",18),e.YNc(5,k,8,3,"ng-container",18),e.qZA()()}if(2&i){const n=e.oxw(2);e.Q6J("detail",n.showDetail),e.xp6(2),e.Q6J("ngForOf",n.schema.title),e.xp6(1),e.Q6J("ngForOf",n.schema.subtitle),e.xp6(1),e.Q6J("ngIf",n.showTimeInterval),e.xp6(1),e.Q6J("ngIf","department"===n.schema.title[0])}}function J(i,d){if(1&i){const n=e.EpF();e.ynx(0),e.YNc(1,I,3,2,"ion-fab",2),e.YNc(2,Z,6,2,"mat-form-field",3),e.TgZ(3,"ion-list"),e.YNc(4,K,6,5,"ion-item",4),e.qZA(),e.TgZ(5,"ion-infinite-scroll",5),e.NdJ("ionInfinite",function(r){e.CHM(n);const g=e.oxw();return e.KtG(g.doInfinite(r))}),e._UZ(6,"ion-infinite-scroll-content",6),e.qZA(),e.BQk()}if(2&i){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.isCreateBtn),e.xp6(1),e.Q6J("ngIf",!n.hideSearch),e.xp6(2),e.Q6J("ngForOf",n.elements)}}function N(i,d){if(1&i&&(e.TgZ(0,"ion-label"),e._uU(1),e.qZA()),2&i){const n=d.$implicit,_=e.oxw(2);e.xp6(1),e.Oqu(_.activeElement[n])}}function S(i,d){if(1&i&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.qZA()),2&i){const n=d.$implicit;e.xp6(1),e.Oqu(n.key)}}function Q(i,d){if(1&i&&(e.TgZ(0,"mat-cell",32),e._uU(1),e.qZA()),2&i){const n=d.$implicit;e.xp6(1),e.Oqu(n.val)}}function W(i,d){1&i&&e._UZ(0,"mat-row")}function Y(i,d){if(1&i){const n=e.EpF();e.TgZ(0,"ion-button",35),e.NdJ("click",function(){const g=e.CHM(n).$implicit,C=e.oxw(3);return e.KtG(C.openModal(g.modal,C.activeElement))}),e._UZ(1,"ion-icon",36),e._uU(2),e.ALo(3,"translate"),e.qZA()}if(2&i){const n=d.$implicit;e.s9C("color",n.mobileColor),e.xp6(1),e.s9C("name",n.mobileIcon),e.xp6(1),e.hij(" ",e.lcZ(3,3,n.tooltip)," ")}}function F(i,d){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,Y,4,5,"ion-button",34),e.qZA()),2&i){const n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n.btns)}}const H=function(){return["key","val"]};function $(i,d){if(1&i){const n=e.EpF();e.TgZ(0,"div",21)(1,"ion-item",22)(2,"ion-button",23),e.NdJ("click",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.onBackToList())}),e._UZ(3,"ion-icon",24),e.qZA(),e.YNc(4,N,2,1,"ion-label",17),e.qZA(),e.TgZ(5,"mat-table",25),e.ynx(6,26),e.YNc(7,S,2,1,"mat-header-cell",27),e.BQk(),e.ynx(8,28),e.YNc(9,Q,2,1,"mat-cell",29),e.BQk(),e.YNc(10,W,1,0,"mat-row",30),e.qZA(),e.YNc(11,F,2,1,"div",31),e.qZA()}if(2&i){const n=e.oxw();e.xp6(3),e.Q6J("ios","arrow-back-outline")("md","arrow-back-sharp"),e.xp6(1),e.Q6J("ngForOf",n.schema.title),e.xp6(1),e.Q6J("dataSource",n.dataSource),e.xp6(5),e.Q6J("matRowDefColumns",e.DdM(6,H)),e.xp6(1),e.Q6J("ngIf",n.btns.length>0)}}let j=(()=>{class i{set data(n){this._data=n}constructor(n,_){this.datePipe=n,this.i18n=_,this.hideSearch=!1,this.showDetail=!0,this.modalOpen=new e.vpe,this.elementSelected=new e.vpe,this.isCreateBtn=!1,this.elements=[],this.showTimeInterval=!1,this.showStatusIcon=!1,this.dataSource=[],this.value=""}ngOnInit(){let n;"create"in this.buttons&&(this.isCreateBtn=!0,delete this.buttons.create),this.btns=Object.values(this.buttons),this.showStatusIcon=this.schema.properties.includes("status")&&"requestorForProject"===this.schema.title[0],this.showTimeInterval=this.schema.properties.includes("startTime")&&this.schema.properties.includes("endTime"),n=this.schema.extended?(0,t.a)([this.i18n.translateProperties(this.schema.properties),this.i18n.translateProperties(this.schema.extended)]).pipe((0,T.U)(([_,r])=>({properties:_,extended:r}))):(0,t.a)([this.i18n.translateProperties(this.schema.properties)]).pipe((0,T.U)(([_])=>({properties:_}))),n.subscribe(_=>{this.translatedSchema=_}),this.getElements()}ngOnChanges(n){this.activeElement&&(this.activeElement=n.data.currentValue.find(_=>_.id===this.activeElement.id),this.activeElement?this.setDataSource():this.dataSource=[]),this.elements=[],this.getElements()}get data(){return this._data}applyFilter(n){const _=n.target.value.toLowerCase();this.elements=this.data.filter(r=>{let g;for(const[C,L]of Object.entries(r))"id"!==C&&"createdAt"!==C&&"startTime"!==C&&"endTime"!==C&&"responseDate"!==C&&L&&"string"==typeof L&&L.toLowerCase().includes(_)&&(g=r);return g})}clearSearchInput(){this.value="",this.elements=this.data}openModal(n,_){this.modalOpen.emit({modal:n,data:_,mobile:!0})}onSelectElement(n,_){this.showDetail&&(this.selectedElement=n,_&&(this.activeElement=n,this.setDataSource()),this.elementSelected.emit(!1))}onBackToList(){this.activeElement=null,this.dataSource=[],this.elementSelected.emit(!0)}setDataSource(){this.dataSource=[];const n={...this.translatedSchema.properties,...this.translatedSchema.extended};for(const _ in n)if(_ in n){const r=n[_];if(!this.schema.title.includes(r)){let g;g="createdAt"===r?this.activeElement[r]?this.datePipe.transform(this.activeElement[r],"dd/MM/yyyy"):this.activeElement[r]:"startTime"===r||"endTime"===r||"responseDate"===r?this.datePipe.transform(this.activeElement[r],"dd/MM/yyyy HH:mm"):this.activeElement[r],this.dataSource.push({key:_,val:g})}}}getElements(){const n=this.elements.length;for(let _=0;_<13;_++)this.elements.length<this.data.length&&this.elements.push(this.data[n+_])}doInfinite(n){this.getElements(),n.target.complete()}getStatusIcon(n){switch(n){case"Approved":return"checkmark-circle-outline";case"Pending":return"time-outline";default:return"ban-outline"}}getStatusIconColor(n){switch(n){case"Approved":return"success";case"Pending":return"warning";default:return"danger"}}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(u.uU),e.Y36(D.D))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-list"]],inputs:{data:"data",schema:"schema",buttons:"buttons",hideSearch:"hideSearch",showDetail:"showDetail"},outputs:{modalOpen:"modalOpen",elementSelected:"elementSelected"},features:[e.TTD],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["details",""],["slot","fixed","horizontal","end","vertical","bottom",3,"click",4,"ngIf"],["appearance","outline","class","list-search",4,"ngIf"],[3,"detail","click",4,"ngFor","ngForOf"],[3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading..."],["slot","fixed","horizontal","end","vertical","bottom",3,"click"],["size","small"],[3,"ios","md"],["appearance","outline",1,"list-search"],["matPrefix",""],["matInput","",3,"ngModel","keyup","ngModelChange"],["input",""],["class","pdf-save","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix","","mat-icon-button","","aria-label","Clear",1,"pdf-save",3,"click"],[3,"detail","click"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"stats-wrapper"],[1,"stats"],[1,"details"],["lines","none"],["slot","start","fill","clear",3,"click"],["slot","icon-only",3,"ios","md"],[3,"dataSource"],["matColumnDef","key"],[4,"matCellDef"],["matColumnDef","val"],["style","text-align: center;",4,"matCellDef"],[4,"matRowDef","matRowDefColumns"],["class","buttons",4,"ngIf"],[2,"text-align","center"],[1,"buttons"],["fill","clear",3,"color","click",4,"ngFor","ngForOf"],["fill","clear",3,"color","click"],["slot","start",3,"name"]],template:function(n,_){if(1&n&&(e.YNc(0,J,7,3,"ng-container",0),e.YNc(1,$,12,7,"ng-template",null,1,e.W1O)),2&n){const r=e.MAs(2);e.Q6J("ngIf",!_.activeElement)("ngIfElse",r)}},dependencies:[u.sg,u.O5,O.Fj,O.JJ,O.On,P.KE,P.qo,P.R9,b.Nt,y.Hw,E.RK,h.BZ,h.w1,h.Dz,h.nj,h.ge,h.ev,h.Gk,f.YG,f.IJ,f.W4,f.gu,f.ju,f.MB,f.Ie,f.Q$,f.q_,u.uU,v.X$],styles:[".mat-mdc-form-field[_ngcontent-%COMP%]{width:94%;margin:2rem auto 0;display:block}  .content-wrapper .mat-mdc-form-field{margin:0 auto}.mat-mdc-outlined-button.mat-mdc-button-base[_ngcontent-%COMP%]{margin:0 0 .5rem 1rem}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control[_ngcontent-%COMP%]{font-size:large}.mat-mdc-form-field-flex[_ngcontent-%COMP%]{background-color:#f1f1e6}.list-content[_ngcontent-%COMP%]{height:calc(100vh - 96px)}.mat-mdc-list-item[_ngcontent-%COMP%]{background-color:#f1f1e6;border-radius:5px;width:94%;margin:0 auto .25rem}.mat-mdc-list-item[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%]{font-size:1.3rem}.mat-mdc-list-item-title[_ngcontent-%COMP%]{color:#613e49}.cdk-virtual-scroll-content-wrapper[_ngcontent-%COMP%]{padding-top:.5rem}.mdc-list-item.mdc-list-item--with-one-line[_ngcontent-%COMP%]{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}ion-item[_ngcontent-%COMP%]{--padding-start: 0}.item-content-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.item-content[_ngcontent-%COMP%]{width:100%}.mdc-list-item--with-two-lines[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%]:before, .mdc-list-item--with-three-lines[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%]:before{display:none}h1[_ngcontent-%COMP%]{text-align:center;margin-top:1rem;background-color:#f1f1e6;padding:2px 0;margin-bottom:0;border-radius:4px 4px 0 0;font-size:1.3rem}ion-thumbnail[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:56px;height:56px}.stats-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.stats-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-right:.75rem}.details[_ngcontent-%COMP%]{overflow:auto}.details[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: #f1f1e6;border:1px solid rgba(0,0,0,.12)}.details[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-right:0}.details[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:var(--ion-color-primary);width:calc(100% - 50px);text-align:center}.details[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1rem}.details[_ngcontent-%COMP%]   .mat-mdc-table[_ngcontent-%COMP%]{margin-bottom:3rem}.details[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{font-size:1rem;border-left:1px solid rgba(0,0,0,.12);border-right:1px solid rgba(0,0,0,.12);flex:0 0 40%}.details[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{font-size:1rem;border-right:1px solid rgba(0,0,0,.12);display:grid}.details[_ngcontent-%COMP%]   .mat-mdc-row[_ngcontent-%COMP%]:last-child   .mat-mdc-cell[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.12)}.details[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;flex-wrap:wrap}"]}),i})()},7408:(z,A,l)=>{l.d(A,{a:()=>tt});var e=l(7340),t=l(4650),T=l(8739),u=l(671),D=l(9841),O=l(4004),P=l(5698),b=l(6895),y=l(8373),E=l(4006),h=l(6308),f=l(9549),v=l(284),I=l(7392),M=l(4859),Z=l(266),U=l(9383);const R=["TableSort"];function B(a,m){if(1&a){const o=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(o);const s=t.oxw(2);return t.KtG(s.clearSearchInput())}),t.TgZ(1,"mat-icon"),t._uU(2,"close"),t.qZA()()}}function k(a,m){if(1&a){const o=t.EpF();t.TgZ(0,"div",13)(1,"mat-form-field",14)(2,"mat-icon",15),t._uU(3,"search"),t.qZA(),t.TgZ(4,"input",16,17),t.NdJ("keyup",function(s){t.CHM(o);const p=t.oxw();return t.KtG(p.applyFilter(s))})("ngModelChange",function(s){t.CHM(o);const p=t.oxw();return t.KtG(p.value=s)}),t.qZA(),t.YNc(6,B,3,0,"button",18),t.qZA()()}if(2&a){const o=t.oxw();t.xp6(4),t.Q6J("ngModel",o.value),t.xp6(2),t.Q6J("ngIf",o.value)}}function K(a,m){if(1&a){const o=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(o);const s=t.oxw(2);return t.KtG(s.manageAllRows())}),t.TgZ(1,"mat-icon"),t._uU(2,"unfold_more"),t.qZA(),t._uU(3),t.ALo(4,"translate"),t.qZA()}2&a&&(t.xp6(3),t.hij("",t.lcZ(4,1,"btn.expandAll")," "))}function J(a,m){if(1&a){const o=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(o);const s=t.oxw(2);return t.KtG(s.manageAllRows())}),t.TgZ(1,"mat-icon"),t._uU(2,"unfold_less"),t.qZA(),t._uU(3),t.ALo(4,"translate"),t.qZA()}2&a&&(t.xp6(3),t.hij("",t.lcZ(4,1,"btn.closeAll")," "))}function N(a,m){if(1&a&&(t.TgZ(0,"div",20),t.YNc(1,K,5,3,"button",21),t.YNc(2,J,5,3,"button",22),t.qZA()),2&a){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",!o.rowsExpanded),t.xp6(1),t.Q6J("ngIf",o.rowsExpanded)}}function S(a,m){if(1&a&&(t.TgZ(0,"th",28),t._uU(1),t.qZA()),2&a){const o=t.oxw().$implicit;t.xp6(1),t.Oqu(o.header)}}function Q(a,m){if(1&a&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&a){const o=m.$implicit,c=t.oxw().$implicit;t.ekj("expanded",o.expanded),t.xp6(1),t.Oqu(c.cell(o))}}function W(a,m){1&a&&(t.ynx(0,25),t.YNc(1,S,2,1,"th",26),t.YNc(2,Q,2,3,"td",27),t.BQk()),2&a&&t.Q6J("matColumnDef",m.$implicit.columnDef)}function Y(a,m){1&a&&t._UZ(0,"th",32)}function F(a,m){if(1&a){const o=t.EpF();t.TgZ(0,"td",33)(1,"button",34),t.NdJ("click",function(){const p=t.CHM(o).$implicit,x=t.oxw().$implicit,w=t.oxw();return t.KtG(w.openModal(w.buttons[x].modal,p))}),t.ALo(2,"translate"),t.TgZ(3,"mat-icon"),t._uU(4),t.qZA()()()}if(2&a){const o=t.oxw().$implicit,c=t.oxw();t.xp6(1),t.s9C("color",c.buttons[o].color),t.s9C("matTooltip",t.lcZ(2,3,c.buttons[o].tooltip)),t.xp6(3),t.Oqu(c.buttons[o].icon)}}function H(a,m){1&a&&(t.ynx(0,25),t.YNc(1,Y,1,0,"th",30),t.YNc(2,F,5,5,"td",31),t.BQk()),2&a&&t.Q6J("matColumnDef",m.$implicit)}function $(a,m){if(1&a&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&a){const o=t.oxw().$implicit,c=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,c[o.val],"dd/MM/yyyy HH:mm")," ")}}function j(a,m){if(1&a&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&a){const o=t.oxw().$implicit,c=t.oxw().$implicit;t.xp6(1),t.Oqu(c[o.val])}}const i=function(){return["Opened","Responded","Closed"]},d=function(){return["Otvoren","Odgovoreno","Zatvoren"]};function n(a,m){if(1&a&&(t.ynx(0),t.TgZ(1,"th"),t._uU(2),t.qZA(),t.YNc(3,$,3,4,"td",37),t.YNc(4,j,2,1,"ng-template",null,38,t.W1O),t.BQk()),2&a){const o=m.$implicit,c=t.MAs(5);t.xp6(2),t.Oqu(o.key),t.xp6(1),t.Q6J("ngIf",t.DdM(3,i).includes(o.key)||t.DdM(4,d).includes(o.key))("ngIfElse",c)}}function _(a,m){if(1&a&&(t.TgZ(0,"td",29)(1,"div",35)(2,"table")(3,"tbody")(4,"tr"),t.YNc(5,n,6,5,"ng-container",36),t.qZA()()()()()),2&a){const o=m.$implicit,c=t.oxw();t.ekj("expanded-row",o.expanded)("not-expanded-row",!o.expanded),t.uIk("colspan",c.displayedColumns.length),t.xp6(1),t.Q6J("@detailExpand",o.expanded?"expanded":"collapsed"),t.xp6(4),t.Q6J("ngForOf",c.extendedRowData)}}function r(a,m){if(1&a&&(t.TgZ(0,"tr",39)(1,"td",40),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&a){const o=t.oxw();t.xp6(1),t.Udp("text-align","center")("height",40,"px"),t.uIk("colspan",o.displayedColumns.length),t.xp6(1),t.hij(" ",t.lcZ(3,6,"labels.noData")," ")}}function g(a,m){1&a&&t._UZ(0,"tr",41),2&a&&t.Udp("height",40,"px")}function C(a,m){if(1&a){const o=t.EpF();t.TgZ(0,"tr",42),t.NdJ("click",function(){const p=t.CHM(o).$implicit,x=t.oxw();return t.KtG(x.toggleRow(p))}),t.qZA()}}function L(a,m){1&a&&t._UZ(0,"tr",44)}const G=function(){return["expandedDetail"]};function q(a,m){1&a&&(t.ynx(0),t.YNc(1,L,1,0,"tr",43),t.BQk()),2&a&&(t.xp6(1),t.Q6J("matRowDefColumns",t.DdM(1,G)))}const X=function(){return[10,25,50]};function V(a,m){if(1&a&&t._UZ(0,"mat-paginator",45),2&a){const o=t.oxw();t.Q6J("length",o.data.length)("pageSize",10)("pageSizeOptions",t.DdM(3,X))}}let tt=(()=>{class a{constructor(o,c,s){this.changeDetector=o,this.datePipe=c,this.i18n=s,this.data=new u.by([]),this.modalOpen=new t.vpe,this.extendedRowData=[],this.value="",this.rowsExpanded=!1,this.columns=[]}ngOnInit(){const o=this.schema.properties;let c;c=this.schema.extended?(0,D.a)([this.i18n.translateProperties(o),this.i18n.translateProperties(this.schema.extended)]).pipe((0,O.U)(([s,p])=>({properties:s,extended:p}))):(0,D.a)([this.i18n.translateProperties(o)]).pipe((0,O.U)(([s])=>({properties:s}))),c.pipe((0,P.q)(1)).subscribe(s=>{if(this.translatedSchema=s,s.extended)for(const p in s.extended)Object.prototype.hasOwnProperty.call(s.extended,p)&&this.extendedRowData.push({key:p,val:s.extended[p]});for(const p in s.properties)if(Object.prototype.hasOwnProperty.call(s.properties,p)){const x=s.properties[p];this.columns.push({columnDef:x,header:p,cell:w=>"responseDate"===x||"createdAt"===x?this.datePipe.transform(w[x],"dd/MM/yyyy"):"startTime"===x||"endTime"===x?this.datePipe.transform(w[x],"dd/MM/yyyy HH:mm"):w[x]})}this.btnColumns=Object.keys(this.buttons).filter(p=>"create"!==p),this.displayedColumns=this.columns.map(p=>p.columnDef).concat(this.btnColumns)})}ngAfterViewInit(){this.data.paginator=this.paginator,this.data.sort=this.sort,this.changeDetector.detectChanges()}applyFilter(o){this.data.filter=o.target.value.trim().toLowerCase()}clearSearchInput(){this.value="",this.data.filter=""}openModal(o,c){this.modalOpen.emit({modal:o,data:c})}toggleRow(o){this.data.data.forEach(c=>{c.expanded=!1}),o.expanded=!o.expanded}manageAllRows(){this.rowsExpanded=!this.rowsExpanded,this.data.data.forEach(o=>{o.expanded=this.rowsExpanded})}}return a.\u0275fac=function(o){return new(o||a)(t.Y36(t.sBO),t.Y36(b.uU),t.Y36(y.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-table"]],viewQuery:function(o,c){if(1&o&&(t.Gf(T.NW,5),t.Gf(R,5)),2&o){let s;t.iGM(s=t.CRH())&&(c.paginator=s.first),t.iGM(s=t.CRH())&&(c.sort=s.first)}},inputs:{data:"data",schema:"schema",buttons:"buttons"},outputs:{modalOpen:"modalOpen"},decls:14,vars:9,consts:[["class","search-print",4,"ngIf"],[1,"table-wrapper"],["class","table-buttons",4,"ngIf"],["mat-table","","matSort","","matSortDisableClear","","multiTemplateDataRows","",3,"dataSource"],["TableSort","matSort"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","expandedDetail"],["mat-cell","",3,"expanded-row","not-expanded-row",4,"matCellDef"],["class","mat-row",4,"matNoDataRow"],["mat-header-row","",3,"Height",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions",4,"ngIf"],[1,"search-print"],["appearance","outline",1,"search-wrapper"],["matPrefix",""],["matInput","","placeholder","",3,"ngModel","keyup","ngModelChange"],["input",""],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"table-buttons"],["mat-stroked-button","",3,"click",4,"ngIf"],["mat-stroked-button","","color","primary",3,"click",4,"ngIf"],["mat-stroked-button","",3,"click"],["mat-stroked-button","","color","primary",3,"click"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","","style","text-align: center;",4,"matHeaderCellDef"],["mat-cell","",3,"expanded",4,"matCellDef"],["mat-header-cell","","mat-sort-header","",2,"text-align","center"],["mat-cell",""],["mat-header-cell","","class","btn-header-cell",4,"matHeaderCellDef"],["mat-cell","","class","btn-cell",4,"matCellDef"],["mat-header-cell","",1,"btn-header-cell"],["mat-cell","",1,"btn-cell"],["mat-icon-button","",3,"color","matTooltip","click"],[1,"element-detail"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["notDate",""],[1,"mat-row"],[1,"mat-cell"],["mat-header-row",""],["mat-row","",3,"click"],["mat-row","","class","detail-row",4,"matRowDef","matRowDefColumns"],["mat-row","",1,"detail-row"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions"]],template:function(o,c){1&o&&(t.YNc(0,k,7,2,"div",0),t.TgZ(1,"div",1),t.YNc(2,N,3,2,"div",2),t.TgZ(3,"table",3,4),t.YNc(5,W,3,1,"ng-container",5),t.YNc(6,H,3,1,"ng-container",5),t.ynx(7,6),t.YNc(8,_,6,7,"td",7),t.BQk(),t.YNc(9,r,4,8,"tr",8),t.YNc(10,g,1,2,"tr",9),t.YNc(11,C,1,0,"tr",10),t.YNc(12,q,2,2,"ng-container",11),t.qZA()(),t.YNc(13,V,1,4,"mat-paginator",12)),2&o&&(t.Q6J("ngIf",!c.schema.noSearch),t.xp6(2),t.Q6J("ngIf",c.extendedRowData.length>0),t.xp6(1),t.Q6J("dataSource",c.data),t.xp6(2),t.Q6J("ngForOf",c.columns),t.xp6(1),t.Q6J("ngForOf",c.btnColumns),t.xp6(4),t.Q6J("matHeaderRowDef",c.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",c.displayedColumns),t.xp6(1),t.Q6J("ngIf",c.extendedRowData.length>0),t.xp6(1),t.Q6J("ngIf",c.data.data.length>10))},dependencies:[b.sg,b.O5,E.Fj,E.JJ,E.On,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,u.Ee,T.NW,h.YE,h.nU,f.KE,f.qo,f.R9,v.Nt,I.Hw,M.lW,M.RK,Z.gM,b.uU,U.X$],styles:[".mat-mdc-row[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.table-wrapper[_ngcontent-%COMP%]{width:calc(100% - 20px);margin:0 auto;overflow:auto}table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]{font-size:.8rem;background-color:#f1f1e6}table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]:not(:first-child){padding:0}table[_ngcontent-%COMP%]   .mat-mdc-row[_ngcontent-%COMP%]:nth-child(even){background-color:#f8f8f8}table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{font-size:.8rem}table[_ngcontent-%COMP%]   .mat-mdc-cell.btn-cell[_ngcontent-%COMP%]{padding:0!important}table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]   .efficiency[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff;width:3rem;display:block;margin:0 auto;padding:2px 0;border-radius:6px}table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]   .efficiency.primary[_ngcontent-%COMP%]{background-color:#009000}table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]   .efficiency.warn[_ngcontent-%COMP%]{background-color:#dc3545}table[_ngcontent-%COMP%]   tr.mat-mdc-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:first-child){text-align:center;padding-left:0;padding-right:1rem}.mat-form-field[_ngcontent-%COMP%]{margin:4rem 0 0 .625rem}.mat-paginator[_ngcontent-%COMP%]{margin-bottom:1.5rem}.detail-row[_ngcontent-%COMP%]{height:0}.element-detail[_ngcontent-%COMP%]{background-color:#fff}.element-detail[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin-bottom:20px;border-collapse:collapse}.element-detail[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#fafaf5;font-weight:400}.element-detail[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .element-detail[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ececec;text-align:center;padding:8px 6px!important}.table-buttons[_ngcontent-%COMP%]{display:flex;justify-content:start;margin-bottom:12px}.table-buttons[_ngcontent-%COMP%]   .mdc-button[_ngcontent-%COMP%]{margin-left:8px}.expanded-row[_ngcontent-%COMP%]{background-color:#fff}.not-expanded-row[_ngcontent-%COMP%]{border:none}.expanded[_ngcontent-%COMP%]{border-bottom:none}"],data:{animation:[(0,e.X$)("detailExpand",[(0,e.SB)("collapsed",(0,e.oB)({height:"0px",minHeight:"0"})),(0,e.SB)("expanded",(0,e.oB)({height:"*"})),(0,e.eR)("expanded <=> collapsed",(0,e.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),a})()},6516:(z,A,l)=>{l.d(A,{U:()=>I});var e=l(6895),t=l(671),T=l(6308),u=l(9549),D=l(284),O=l(7392),P=l(4859),b=l(5938),y=l(8739),E=l(9383),h=l(266),f=l(4006),v=l(4650);let I=(()=>{class M{}return M.\u0275fac=function(U){return new(U||M)},M.\u0275mod=v.oAB({type:M}),M.\u0275inj=v.cJS({imports:[e.ez,f.u5,t.p0,y.TU,T.JX,u.lN,D.c,O.Ps,P.ot,b.Is,h.AV,E.aw]}),M})()}}]);