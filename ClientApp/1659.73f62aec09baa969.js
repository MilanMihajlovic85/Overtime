"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1659],{1659:(b,f,e)=>{e.r(f),e.d(f,{OrganizationsPageModule:()=>R});var m=e(6895),s=e(4006),i=e(603),z=e(262),Z=e(2843),x=e(2340),t=e(4650),T=e(9586),D=e(529),O=e(6832),A=e(481),d=e(9549),g=e(9602),p=e(4385),P=e(3238),J=e(245),I=e(7610),S=e(3711),F=e(7785),h=e(9383);function N(o,r){1&o&&(t.TgZ(0,"ion-buttons",5),t._UZ(1,"app-logout"),t.qZA())}function Q(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Please insert start and end date "),t.qZA())}function Y(o,r){if(1&o&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&o){const a=r.$implicit;t.Q6J("value",a.Value),t.xp6(1),t.hij(" ",a.Description," ")}}function y(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Please select organization"),t.qZA())}function U(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"ion-row")(1,"ion-col",6)(2,"form",7)(3,"ion-row")(4,"ion-col",8)(5,"mat-form-field",9)(6,"mat-label"),t._uU(7,"Period"),t.qZA(),t.TgZ(8,"mat-date-range-input",10),t._UZ(9,"input",11),t.ALo(10,"translate"),t._UZ(11,"input",12),t.ALo(12,"translate"),t.qZA(),t._UZ(13,"mat-datepicker-toggle",13)(14,"mat-date-range-picker",null,14),t.YNc(16,Q,2,0,"mat-error",4),t.qZA()(),t.TgZ(17,"ion-col",15)(18,"mat-form-field",9)(19,"mat-label"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"mat-select",16),t.YNc(23,Y,2,2,"mat-option",17),t.ALo(24,"async"),t.qZA(),t.YNc(25,y,2,0,"mat-error",4),t.qZA()(),t.TgZ(26,"ion-col",18)(27,"ion-button",19),t.NdJ("click",function(){t.CHM(a);const c=t.oxw();return t.KtG(c.onFormSubmit())}),t._UZ(28,"ion-icon",20),t.qZA()()()()()()}if(2&o){const a=t.MAs(15),n=t.oxw();t.xp6(2),t.Q6J("formGroup",n.form),t.xp6(6),t.Q6J("rangePicker",a),t.xp6(1),t.s9C("placeholder",t.lcZ(10,12,"startTime")),t.xp6(2),t.s9C("placeholder",t.lcZ(12,14,"endTime")),t.xp6(2),t.Q6J("for",a),t.xp6(3),t.Q6J("ngIf",(null==n.form.get("startDate").errors?null:n.form.get("startDate").errors.required)||(null==n.form.get("endDate").errors?null:n.form.get("endDate").errors.required)),t.xp6(4),t.Oqu(t.lcZ(21,16,"organization")),t.xp6(3),t.Q6J("ngForOf",t.lcZ(24,18,n.organizations$)),t.xp6(2),t.Q6J("ngIf",null==n.form.get("organization").errors?null:n.form.get("organization").errors.required),t.xp6(2),t.Q6J("disabled",!n.form.valid),t.xp6(1),t.Q6J("ios","search-outline")("md","search-sharp")}}const v=function(){return{}};function M(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"ion-col",24)(1,"app-paginated-list",25),t.NdJ("elementSelected",function(c){t.CHM(a);const u=t.oxw(2);return t.KtG(u.onElementSelected(c))}),t.qZA()()}if(2&o){const a=t.oxw(2);t.xp6(1),t.Q6J("searchData",a.data)("schema",a.schema)("buttons",t.DdM(4,v))("category","organizations")}}function E(o,r){if(1&o&&(t.TgZ(0,"ion-col"),t._UZ(1,"app-paginated-table",26),t.qZA()),2&o){const a=t.oxw(2);t.xp6(1),t.Q6J("searchData",a.data)("schema",a.desktopSchema)("buttons",t.DdM(4,v))("category","organizations")}}function L(o,r){if(1&o&&(t.TgZ(0,"ion-row"),t.YNc(1,M,2,5,"ion-col",22),t.ALo(2,"async"),t.YNc(3,E,2,5,"ng-template",null,23,t.W1O),t.qZA()),2&o){const a=t.MAs(4),n=t.oxw();t.xp6(1),t.Q6J("ngIf",!1===t.lcZ(2,2,n.isDesktop$))("ngIfElse",a)}}let C=(()=>{class o{constructor(a,n,c,u,H){this.screenSizeSrv=a,this.changeDetector=n,this.formBuilder=c,this.http=u,this.messagesSrv=H,this.isDesktop$=this.screenSizeSrv.isDesktopView(),this.showForm=!0,this.desktopSchema={properties:["status","requestorDepartment","requestorForWO","requestorForProject","requestorWOManager","minutes","startTime","endTime","reason"]},this.schema={properties:["requestorFullName","status","minutes","reason","startTime","endTime","requestorDepartment","requestorWO","requestorWOManager","requestorForWO","requestorForProject"],title:["requestorForProject"],subtitle:["requestorDepartment"]},this.organizations$=this.http.get(`${x.N.apiUrl}/RequestData/DataDriven_DDL_WorkOrganizations`).pipe((0,z.K)(l=>(this.messagesSrv.showErrors(l.error.Message?l.error.Message:l.status&&l.statusText?l.status+" "+l.statusText:l.message),(0,Z._)(()=>l))))}ngOnInit(){this.form=this.formBuilder.group({organization:["",{validators:[s.kI.compose([s.kI.required])]}],startDate:["",{validators:[s.kI.compose([s.kI.required])]}],endDate:["",{validators:[s.kI.compose([s.kI.required])]}]})}onFormSubmit(){this.form.valid&&(this.data=this.form.value,this.changeDetector.detectChanges())}onElementSelected(a){this.showForm=a}}return o.\u0275fac=function(a){return new(a||o)(t.Y36(T.j),t.Y36(t.sBO),t.Y36(s.qu),t.Y36(D.eN),t.Y36(O.K))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-organizations"]],decls:16,vars:13,consts:[[3,"translucent"],["slot","start"],["slot","end",4,"ngIf"],[1,"ion-padding",3,"fullscreen"],[4,"ngIf"],["slot","end"],["size","12","size-md","8","offset-md","2","size-lg","8.5","offset-lg","1.5","size-xl","8","offset-xl","0"],[1,"filter-form",3,"formGroup"],["size","12","size-lg","5.5"],["appearance","outline","floatLabel","always","hideRequiredMarker","true"],["calendarLabel","Kalendar",3,"rangePicker"],["matStartDate","","formControlName","startDate",3,"placeholder"],["matEndDate","","formControlName","endDate",3,"placeholder"],["matIconSuffix","",3,"for"],["picker",""],["size","10","size-lg","5"],["formControlName","organization"],[3,"value",4,"ngFor","ngForOf"],["size","2","size-lg","1.5"],["fill","solid","color","secondary",3,"disabled","click"],["slot","icon-only",3,"ios","md"],[3,"value"],["size","12","size-md","8","offset-md","2",4,"ngIf","ngIfElse"],["table",""],["size","12","size-md","8","offset-md","2"],[3,"searchData","schema","buttons","category","elementSelected"],[3,"searchData","schema","buttons","category"]],template:function(a,n){1&a&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),t._UZ(3,"ion-menu-button"),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5),t.ALo(6,"translate"),t.ALo(7,"translate"),t.qZA(),t.YNc(8,N,2,0,"ion-buttons",2),t.ALo(9,"async"),t.qZA()(),t.TgZ(10,"ion-content",3)(11,"ion-grid"),t._UZ(12,"app-loading")(13,"app-messages"),t.YNc(14,U,29,20,"ion-row",4),t.YNc(15,L,5,4,"ion-row",4),t.qZA()()),2&a&&(t.Q6J("translucent",!0),t.xp6(5),t.AsE("",t.lcZ(6,7,"menuSections.reports")," / ",t.lcZ(7,9,"pageTitles.organizations"),""),t.xp6(3),t.Q6J("ngIf",t.lcZ(9,11,n.isDesktop$)),t.xp6(2),t.Q6J("fullscreen",!0),t.xp6(4),t.Q6J("ngIf",n.showForm),t.xp6(1),t.Q6J("ngIf",n.data))},dependencies:[m.sg,m.O5,s._Y,s.Fj,s.JJ,s.JL,i.YG,i.Sm,i.wI,i.W2,i.jY,i.Gu,i.gu,i.fG,i.Nd,i.wd,i.sr,A.u,d.KE,d.hX,d.TO,d.R9,g.nW,g.wx,g.zY,g.By,g._g,s.sg,s.u,p.gD,P.ey,J.N,I.d,S.v,F.t,m.Ov,h.X$]}),o})();var q=e(9299),W=e(4212),$=e(7392),j=e(284),w=e(1227),G=e(591),B=e(5459),K=e(871),X=e(3627);let R=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[m.ez,q.Bz.forChild([{path:"",component:C}]),s.u5,i.Pc,W.p,B.i,$.Ps,j.c,g.FA,s.UX,h.aw,p.LD,G.I,w.$,K.e,X.I]}),o})()}}]);