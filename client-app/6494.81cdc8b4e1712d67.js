"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6494],{6494:(b,d,o)=>{o.r(d),o.d(d,{ProjectsPageModule:()=>R});var g=o(6895),a=o(4006),i=o(603),v=o(2340),P=o(262),x=o(2843),t=o(4650),T=o(9586),j=o(529),D=o(6832),A=o(481),p=o(9549),c=o(9602),f=o(4385),J=o(3238),I=o(245),S=o(7610),z=o(3711),F=o(7785),h=o(9383);function N(e,n){1&e&&(t.TgZ(0,"ion-buttons",5),t._UZ(1,"app-logout"),t.qZA())}function Q(e,n){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Please insert start and end date "),t.qZA())}function U(e,n){if(1&e&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&e){const s=n.$implicit;t.Q6J("value",s.Value),t.xp6(1),t.AsE(" ",s.Description," ",s.Value," ")}}function Y(e,n){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Please select project"),t.qZA())}function y(e,n){if(1&e){const s=t.EpF();t.TgZ(0,"ion-row")(1,"ion-col",6),t._UZ(2,"app-loading"),t.TgZ(3,"form",7)(4,"ion-row")(5,"ion-col",8)(6,"mat-form-field",9)(7,"mat-label"),t._uU(8,"Period"),t.qZA(),t.TgZ(9,"mat-date-range-input",10),t._UZ(10,"input",11),t.ALo(11,"translate"),t._UZ(12,"input",12),t.ALo(13,"translate"),t.qZA(),t._UZ(14,"mat-datepicker-toggle",13)(15,"mat-date-range-picker",null,14),t.YNc(17,Q,2,0,"mat-error",4),t.qZA()(),t.TgZ(18,"ion-col",15)(19,"mat-form-field",9)(20,"mat-label"),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"mat-select",16),t.YNc(24,U,2,3,"mat-option",17),t.ALo(25,"async"),t.qZA(),t.YNc(26,Y,2,0,"mat-error",4),t.qZA()(),t.TgZ(27,"ion-col",18)(28,"ion-button",19),t.NdJ("click",function(){t.CHM(s);const m=t.oxw();return t.KtG(m.onFormSubmit())}),t._UZ(29,"ion-icon",20),t.qZA()()()()()()}if(2&e){const s=t.MAs(16),r=t.oxw();t.xp6(3),t.Q6J("formGroup",r.form),t.xp6(6),t.Q6J("rangePicker",s),t.xp6(1),t.s9C("placeholder",t.lcZ(11,12,"startTime")),t.xp6(2),t.s9C("placeholder",t.lcZ(13,14,"endTime")),t.xp6(2),t.Q6J("for",s),t.xp6(3),t.Q6J("ngIf",(null==r.form.get("startDate").errors?null:r.form.get("startDate").errors.required)||(null==r.form.get("endDate").errors?null:r.form.get("endDate").errors.required)),t.xp6(4),t.Oqu(t.lcZ(22,16,"project")),t.xp6(3),t.Q6J("ngForOf",t.lcZ(25,18,r.projects$)),t.xp6(2),t.Q6J("ngIf",null==r.form.get("project").errors?null:r.form.get("project").errors.required),t.xp6(2),t.Q6J("disabled",!r.form.valid),t.xp6(1),t.Q6J("ios","search-outline")("md","search-sharp")}}const Z=function(){return{}};function O(e,n){if(1&e){const s=t.EpF();t.TgZ(0,"ion-col",24)(1,"app-paginated-list",25),t.NdJ("elementSelected",function(m){t.CHM(s);const u=t.oxw(2);return t.KtG(u.onElementSelected(m))}),t.qZA()()}if(2&e){const s=t.oxw(2);t.xp6(1),t.Q6J("searchData",s.data)("schema",s.schema)("buttons",t.DdM(4,Z))("category","projects")}}function E(e,n){if(1&e&&(t.TgZ(0,"ion-col"),t._UZ(1,"app-paginated-table",26),t.qZA()),2&e){const s=t.oxw(2);t.xp6(1),t.Q6J("searchData",s.data)("schema",s.desktopSchema)("buttons",t.DdM(4,Z))("category","projects")}}function M(e,n){if(1&e&&(t.TgZ(0,"ion-row"),t.YNc(1,O,2,5,"ion-col",22),t.ALo(2,"async"),t.YNc(3,E,2,5,"ng-template",null,23,t.W1O),t.qZA()),2&e){const s=t.MAs(4),r=t.oxw();t.xp6(1),t.Q6J("ngIf",!1===t.lcZ(2,2,r.isDesktop$))("ngIfElse",s)}}let L=(()=>{class e{constructor(s,r,m,u,V){this.screenSizeSrv=s,this.changeDetector=r,this.formBuilder=m,this.http=u,this.messagesSrv=V,this.isDesktop$=this.screenSizeSrv.isDesktopView(),this.showForm=!0,this.desktopSchema={properties:["status","requestorDepartment","requestorForWO","requestorWO","requestorWOManager","minutes","startTime","endTime","reason"]},this.schema={properties:["requestorFullName","status","minutes","reason","startTime","endTime","requestorDepartment","requestorWO","requestorWOManager","requestorForWO","requestorForProject"],title:["requestorForWO"],subtitle:["requestorDepartment"]},this.projects$=this.http.get(`${v.N.apiUrl}/RequestData/DataDriven_DDL_Projects`).pipe((0,P.K)(l=>(this.messagesSrv.showErrors(l.error.Message?l.error.Message:l.status&&l.statusText?l.status+" "+l.statusText:l.message),(0,x._)(()=>l))))}ngOnInit(){this.form=this.formBuilder.group({project:["",{validators:[a.kI.compose([a.kI.required])]}],startDate:["",{validators:[a.kI.compose([a.kI.required])]}],endDate:["",{validators:[a.kI.compose([a.kI.required])]}]})}onFormSubmit(){this.form.valid&&(this.data=this.form.value,this.changeDetector.detectChanges())}onElementSelected(s){this.showForm=s}}return e.\u0275fac=function(s){return new(s||e)(t.Y36(T.j),t.Y36(t.sBO),t.Y36(a.qu),t.Y36(j.eN),t.Y36(D.K))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-projects"]],decls:15,vars:13,consts:[[3,"translucent"],["slot","start"],["slot","end",4,"ngIf"],[1,"ion-padding",3,"fullscreen"],[4,"ngIf"],["slot","end"],["size","12","size-md","8","offset-md","2","size-lg","8.5","offset-lg","1.5","size-xl","8","offset-xl","0"],[1,"filter-form",3,"formGroup"],["size","12","size-lg","5.5"],["appearance","outline","floatLabel","always","hideRequiredMarker","true"],["calendarLabel","Kalendar",3,"rangePicker"],["matStartDate","","formControlName","startDate",3,"placeholder"],["matEndDate","","formControlName","endDate",3,"placeholder"],["matIconSuffix","",3,"for"],["picker",""],["size","10","size-lg","5"],["formControlName","project"],[3,"value",4,"ngFor","ngForOf"],["size","2","size-lg","1.5"],["fill","solid","color","secondary",3,"disabled","click"],["slot","icon-only",3,"ios","md"],[3,"value"],["size","12","size-md","8","offset-md","2",4,"ngIf","ngIfElse"],["table",""],["size","12","size-md","8","offset-md","2"],[3,"searchData","schema","buttons","category","elementSelected"],[3,"searchData","schema","buttons","category"]],template:function(s,r){1&s&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),t._UZ(3,"ion-menu-button"),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5),t.ALo(6,"translate"),t.ALo(7,"translate"),t.qZA(),t.YNc(8,N,2,0,"ion-buttons",2),t.ALo(9,"async"),t.qZA()(),t.TgZ(10,"ion-content",3),t._UZ(11,"app-messages"),t.TgZ(12,"ion-grid"),t.YNc(13,y,30,20,"ion-row",4),t.YNc(14,M,5,4,"ion-row",4),t.qZA()()),2&s&&(t.Q6J("translucent",!0),t.xp6(5),t.AsE("",t.lcZ(6,7,"menuSections.reports")," / ",t.lcZ(7,9,"pageTitles.projects"),""),t.xp6(3),t.Q6J("ngIf",t.lcZ(9,11,r.isDesktop$)),t.xp6(2),t.Q6J("fullscreen",!0),t.xp6(3),t.Q6J("ngIf",r.showForm),t.xp6(1),t.Q6J("ngIf",r.data))},dependencies:[g.sg,g.O5,a._Y,a.Fj,a.JJ,a.JL,i.YG,i.Sm,i.wI,i.W2,i.jY,i.Gu,i.gu,i.fG,i.Nd,i.wd,i.sr,A.u,p.KE,p.hX,p.TO,p.R9,c.nW,c.wx,c.zY,c.By,c._g,a.sg,a.u,f.gD,J.ey,I.N,S.d,z.v,F.t,g.Ov,h.X$]}),e})();var C=o(1635),q=o(4212),W=o(7392),$=o(284),w=o(1227),G=o(591),B=o(5459),K=o(871),X=o(3627);let R=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.ez,C.Bz.forChild([{path:"",component:L}]),a.u5,i.Pc,q.p,B.i,W.Ps,$.c,c.FA,a.UX,h.aw,f.LD,G.I,w.$,K.e,X.I]}),e})()}}]);